<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
        <script src="https://s3.pstatp.com/cdn/expire-1-M/jquery/3.1.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vue@2.4.4/dist/vue.min.js"></script>
    <script src="./clipboard.min.js"></script>
    <script src="js/jquery.min.js"></script>
<script src="js/swiper.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/jutils-src"></script>
    <script type="text/javascript">

        document.addEventListener('plusready', function(){
            //console.log("所有plus api都应该在此事件发生后调用，否则会出现plus is undefined。"

        });

    </script>
    <!-- -->
    <meta charset="UTF-8">
    <meta http-equiv="Expires" content="0" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
    <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no,minimal-ui">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <title>SHC</title>
    <script>
        (function () {
            var _width = 750;
            var ua = navigator.userAgent;
            if (/Android (\d+\.\d+)/.test(ua)) {
                var version = parseFloat(RegExp.$1);
                if (version > 2.3) {
                    document.write('<meta name="viewport" content="width=' + _width +
                        ',user-scalable=no,target-densitydpi=device-dpi,minimal-ui">')
                } else {
                    document.write('<meta name="viewport" content="width=' + _width +
                        ',target-densitydpi=device-dpi">')
                }
            } else if (/QQAC_Client_iOS/.test(ua)) {
                document.write('<meta name="viewport" content="width=' + _width +
                    ',maximum-scale=0.5,minimum-scale=0.5">');
            } else {
                document.write('<meta name="viewport" content="width=' + _width +
                    ',user-scalable=no,target-densitydpi=device-dpi,minimal-ui">')
            }
        })();
    </script>
    <style type="text/css">
        html {
            position: fixed;
            width: 100%;
            height: 100%;
        }
		a {text-decoration: none}
    </style>
	 
   
    <link href="css/indexstyle.css?v=1.0" rel="stylesheet">
</head>
<body style="overflow: hidden;">
<!--首页-->
<div class="main">
	<div class="header">
		<img src="img/logo1.png" width="159" height="45"/>
		<img src="img/logo2.png"  width="47" height="32"/>
	</div>
	<div class="header_under">
		<img src="img/txt1.png" width="631" height="150"/>
	</div>
	<div class="card1">
		<img class="card1_img1" src="img/card1_txt1.png" width="562" height="43"/>
		<input type="text" class="car1_input" id="pool"/> <!--矿池总量-->
		<img class="card1_img1" src="img/card1_txt2.png" width="465" height="40"/>
		<br/>
		 ShcDefi Total Locked Position 
		<div class="card1_btn_group">
			<img class="gototop" src="img/card1_btn1.png" width="206" height="63"/>
			<img class="gototop" src="img/card1_btn2.png" width="217" height="70"/>
		</div>
	</div>
	<div class="card2">
		<div class="car2_input_">
			<input type="number" class="car2_input" id="t1x" value="0"/>
			<div class="car2_input_txt">SHC</div>
		</div>
		<div class="car2_btns">
			<div id ="bt1" onclick="bT1()" class="car2_btns_ car2_btns_a">+100&nbsp;SHC</div>
			<div id ="bt2" onclick="bT2()" class="car2_btns_ car2_btns_a">+1K&nbsp;SHC</div>
			<div id ="bt3" onclick="bT3()" class="car2_btns_ car2_btns_a">+10K&nbsp;SHC</div>
		</div>
		<div class="car2_btns">
			<div id ="bt4" onclick="bT4()" class="car2_btns_ car2_btns_a">+30K&nbsp;SHC</div>
			<div id ="bt5" onclick="bT5()" class="car2_btns_ car2_btns_a">+50K&nbsp;SHC</div>
			<div id ="bt6" onclick="bT6()" class="car2_btns_ car2_btns_a">+100K&nbsp;SHC</div>
		</div>
		<div class="car2_btns">
			<div id="pravo" class="confirmb car2_btns_ car2_btns_b">Approve</div>
			<div id="reset1" onclick="reset1()" class="car2_btns_ car2_btns_b">Reset</div>
			<div class="confirm car2_btns_ car2_btns_b">Join</div>
		</div>
		 <!-- <img class="car2_weiding_txt" src="img/weiding_txt.png" width="460" height="52"/> -->
		
	</div>
	<!--<div class="card3">-->
	<!--	<img class="card3_btn gototop" src="img/card_btn3.png" width="182" height="61">-->
	<!--</div>-->
	<div class="card3_under">
	<!--	<img class="gototop" src="img/card3under1.png" width="276" height="77"/>
		<img class="gototop" src="img/card3under2.png" width="276" height="77"/>-->
	</div>
	<div class="card4">
		<div class="card1_txt1_zd2 card4_zd2" style="margin-bottom: 20px;">SMART&nbsp;&nbsp;CONTRACT&nbsp;&nbsp;INFO</div>
		
		<div class="flex_zd card4_zd3">
			<div>Smart Contract Address</div>
			<div id ="conAddress" onclick="tzc()">TPc..</div>
		</div>
		<div class="flex_zd card4_zd3">
			<div>Amount Smart Contract Deposits</div>
			<div  id="conDeposits">—SHC</div>
		</div>
		<div class="flex_zd card4_zd3">
			<div>Amount Withdrawn By Members</div>
			<div id="conMembers"></div>
		</div>
		<div class="flex_zd card4_zd3">
			<div>Total number of people</div>
			<div id="conMembersn"></div>
		</div>
		<div class="flex_zd card4_zd3">
			<div>Amount In The Daily Pool</div>
			<div id="conDaily">—SHC</div>
		</div>
		<div class="flex_zd card4_zd3">
			<div>Maximum Amount From Top Referrer</div>
			<div id="conLider">—SHC</div>
		</div>

		<div class="flex_zd card4_zd3">
			<div>Referred By</div>
			<div id="userReferred"></div>
		</div>

	</div>

	<div class="card6">
		<div class="card1_txt1_zd2 card6_zd2" style="margin-bottom: 20px;">Personal&nbsp;&nbsp;&nbsp;Statistic</div>
		
		<div class="flex_zd card4_zd3">
			<div>Your Address</div>
			<div id ="userAddress" onclick="tz()"></div>
		</div>
		<div class="flex_zd card4_zd3">
			<div>Total SHC Deposits At All Time</div>
			<div id ="userDeposits">—SHC</div>
		</div>
		<div class="flex_zd card4_zd3">
			<div>310% Limit income</div>      <!--需要显示的就是310%总收益金额，比如入了1万，购买成功就直接在这栏显示31000，然后每天1%的收益和直推的10%，只要客户有收益，这里就会减下来！（这个是以前就有的）-->
			<div id ="userDepositss">—SHC</div>
		</div>
		<div class="flex_zd card4_zd3">
			<div>Amount Withdrawn By Members</div>
			<div id ="userWithdrawn">—SHC</div>
		</div>
		<div class="flex_zd card4_zd3">
			<div>Matching Bonus</div>
			<div id ="userIncome">—SHC</div>
		</div>
		<!--<div class="flex_zd card4_zd3">-->
		<!--	<div>Direct Referral Income</div>-->
		<!--	<div id ="userReferral">—SHC</div>-->
		<!--</div>-->
		<div class="flex_zd card4_zd3">
			<div>Daily Income 1%</div>
			<div id ="userDaily">—SHC</div>
		</div>
		<div class="flex_zd card4_zd3">
			<div>Direct Income 10%</div>
			<div >—SHC</div>
		</div>
		<div class="flex_zd card4_zd3">
			<div>The number of people you invited</div>
			<div id="userReferrednum"></div>
		</div>
		<div class="flex_zd card4_zd3">
			<div>Pool Bonus</div>
			<div id ="userBonus">—SHC</div>
		</div>

	</div>
	<div class="card6_under">
		<img  class="confirma" src="img/card6under.png" width="276" height="77"/>
	</div>
	
	

	
	<div class="card5">
		<div class="card1_txt1_zd2 card3_zd2" style="margin-bottom: 36px;">TOP&nbsp;&nbsp;4&nbsp;&nbsp;SPONSOR</div>
		<div class="flex_zd card4_zd3">
			<div id="top2">Address</div>
			<div id="topt2">—SHC</div>
		</div>
		<div class="flex_zd card4_zd3">
			<div id="top3">Address</div>
			<div id="topt3">—SHC</div>
					</div>
		<div class="flex_zd card4_zd3">
			<div id="top4">Address</div>
			<div id="topt4">—SHC</div>
					</div>
		<div class="flex_zd card4_zd3">
			<div id="top5">Address</div>
			<div id="topt5">—SHC</div>
		</div>
		</div>
		
		
			<div class="card5">
		<div class="card1_txt1_zd2 card3_zd2" style="margin-bottom: 36px;">ORGANIZATION</div>
	 
		<div class="flex_zd card4_zd3">
			<div id="top4">Total Number Of Partners</div>
			<div id="topt4">—SHC</div>   <!--需要显示我邀请了多少人总量-->
					</div>
		<div class="flex_zd card4_zd3">
			<div id="top5">Total Community Participants</div>
			<div id="topt5">—SHC</div>   <!--需要社区参与者总量-->
		</div>
		</div>
		
		


	<div class="card5">
	 <div class="card1_txt1_zd2 card3_zd2" style="margin-bottom: 36px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Invitation Link</div>
	 <div class="flex_zd card4_zd3">
			<div id="selector"></div>
					</div>
	</div>
	
	<div class="card8_under">
		<!--<img  id="copy"  src="img/last_btn1.png" width="276" height="77"/>-->
			
		<!-- <img class="gototop" src="img/card6under.png" width="276" height="77"/> -->
		<a href=""><div id="copy" class="card7_under_btn_ card7_under_btn_1">
			Invitation Link
		</div>
        </a>
		<!--<a href="#"><img id="copy" src="img/last_btn1.png" width="276" height="77"></a>-->
		<img class="gototop" src="img/last_btn2.png" width="276" height="77"/>
		</div>
	
	
	
	
	</div>
</div>




<script type="text/javascript" src="js/jquery-3.2.1.min.js"></script>

<script>

   



    $(document).ready(function(){
//点击跳转事件
        $(".gototop").click(function () {
			$(".main").animate({scrollTop:0}, 'slow');//回到顶部
        });
        
        // $(".last_button").click(function () {
        //     $(".t_b").removeClass("animated fadeInUp")
        // });
    });

</script>
 <script>
    const HEX_PREFIX = '41';
     const TOKEN_SWAP_SHC_CONTRACT = 'TPc1hMCtdoWSgS6ZgsW8bP3tUH4R1B3T71'
     const trc20ContractAddress = "THJZVwWqEZYu45oGMJCmC4h5YudA76Rpom";

    const TOKEN_SWAP_SHC_ABI = 'withdraw()'
    const SHC_SWAP_TOKEN_ABI = 'deposit(address,uint256)'
    const SHC_USER_ABI = 'userInfo(address)'
    const GetContractBalance_abi = 'pool_balance()'
    const IncreaseAllowance_ABI = 'increaseAllowance(address,uint256)'


    //oweraddress
    var oweraddress='';
    //link address
    var Invitation='';
    //token余额
    var token_num=0;
    //页面数据
    var pageData = {
      currentAddress : '',
      currentAccountName : '',
      currentAccount : {},
      loading: true
    };
    //矿池数据
    var poolData = {
        total_users : '',
        total_deposited : '',
        total_withdraw : '',
        pool_last_draw : '',
        pool_balance : '',
        pool_lider : ''
    };
   //初始化tronweb
    function initTronWeb()
    {
      return new Promise(function(resolve, reject){
        let tries = 0;

        // 初始化成功后执行
        const loadFinish = function(){
          pageData.currentAddress = tronWeb.defaultAddress.base58;
          oweraddress = pageData.currentAddress;
          resolve(window.tronWeb);
          //token余额



        };

        let timer = setInterval(function(){
          if(window.tronWeb){
            clearInterval(timer);
            if(!window.tronWeb.defaultAddress.base58){
            alert('Wallet connection failed! Please check your wallet')

            }else{

              return loadFinish();
            }
          }
          if(tries > 10){
            clearInterval(timer);
            reject();
          }
        }, 1000);
      });
    }
    //获取用户TRC20余额
    async function tokenBalanceOf(address, trc20ContractAddress) {

    try {
        let contract = await tronWeb.contract().at(trc20ContractAddress);
        let result = await contract.balanceOf(address).call();
        result = parseInt(result) / 1000000000000000000
        return result
        //console.log('result: ', result);
    } catch(error) {
        console.error("trigger smart contract error",error)
    }
    }
    //查询矿池情况
    async function contractPool(TOKENSWAPSHCCONTRACT) {

    try {
        let contract = await tronWeb.contract().at(TOKENSWAPSHCCONTRACT);
        let result = await contract.contractInfo().call();
        //console.log('result: ', result);
        return result;
    } catch(error) {
        console.error("trigger smart contract error",error)
    }
    }
 //查看个人情况
    async function contractUser(TOKENSWAPSHCCONTRACT,Oweraddress) {

    try {
        let contract = await tronWeb.contract().at(TOKENSWAPSHCCONTRACT);
        let result = await contract.userInfo(Oweraddress
        ).call()

        //console.log(result);
        return result;
    } catch(error) {
        console.error("trigger smart contract error",error)
    }
    }
    
 //查看个人总情况
    async function contractUsertotal(TOKENSWAPSHCCONTRACT,Oweraddress) {

    try {
        let contract = await tronWeb.contract().at(TOKENSWAPSHCCONTRACT);
        let result = await contract.userInfoTotals(Oweraddress
        ).call()

        //console.log(result);
        return result;
    } catch(error) {
        console.error("trigger smart contract error",error)
    }
    }
//查看top4  poolTopInfo
    async function contractTop(TOKENSWAPSHCCONTRACT) {

    try {
        let contract = await tronWeb.contract().at(TOKENSWAPSHCCONTRACT);
        let result = await contract.poolTopInfo().call();
        //console.log('result: ', result);
        return result;
    } catch(error) {
        console.error("trigger smart contract error",error)
    }
    }
//获取余额
async function getBalancet() {
try {
        let result = await tronWeb.trx.getBalance(TOKEN_SWAP_SHC_CONTRACT);

        //console.log(result);
        return result;
    } catch(error) {
        console.error("trigger smart contract error",error)
    }
    }

 ////
      async function trxSwapToken(value,address) {
        let tx = await tronWeb.transactionBuilder.triggerSmartContract(TOKEN_SWAP_SHC_CONTRACT, SHC_SWAP_TOKEN_ABI, {
            feeLimit: 20000000*3.5,
            callValue: 0,//输入质押金额
        },
        [{
            type: 'address',
            value: tronWeb.address.toHex(address),//上级地址
        },{
            type: 'uint256',
            value: this.tronWeb.toSun(value)/1000000,
        }])

        let signedTx = await tronWeb.trx.sign(tx.transaction)
        let broastTx = await tronWeb.trx.sendRawTransaction(signedTx)
        return broastTx.txid
}

 ////
      async function tokenApprove(address) {
        let tx = await tronWeb.transactionBuilder.triggerSmartContract(trc20ContractAddress, IncreaseAllowance_ABI, {
            feeLimit: 20000000,
            callValue: 0,//输入质押金额
        },
        [{
            type: 'address',
            value: tronWeb.address.toHex(address),//上级地址
        },{
            type: 'uint256',
            value: '1000000000000000000000000'
        }])

        let signedTx = await tronWeb.trx.sign(tx.transaction)
        let broastTx = await tronWeb.trx.sendRawTransaction(signedTx)
        return broastTx.txid
}
/////////
    async function Withdraw() {
        let tx = await tronWeb.transactionBuilder.triggerSmartContract(TOKEN_SWAP_SHC_CONTRACT, TOKEN_SWAP_SHC_ABI, {
            feeLimit: 20000000*3.5,
            callValue: 0
        },
        )

        let signedTx = await tronWeb.trx.sign(tx.transaction)
        let broastTx = await tronWeb.trx.sendRawTransaction(signedTx);
        //console.log("SHC ==> Withdraw, Result :", broastTx.result, "TX_ID:", broastTx.txid)
        return broastTx.txid
    }
    //错误处理
    var error = function(e)
    {
      console.log('Load Error' + ' : %c' + e,'color:#f00');
    };

    var transError = function(e){
      console.log(e);
      console.log('Transaction Error' + ' : %c' + e,'color:#f00');
      alert(e);
      pageData.loading = false;
    };

    $(document).ready(function() {
      //init vue
      vue = new Vue({
        el: '.mds-group',
        data: pageData,
      });

      //init tronweb
      //初始化tronweb
      initTronWeb().then(function(tronWeb){
        //获取用户投票信息
        let Oaddr = tronWeb.defaultAddress.base58;
        tronWeb.trx.getAccount(Oaddr).then(function(account){
         //获取用户信息   conDeposits _pool_balance conLider  userReferred 1607931594
        contractPool(TOKEN_SWAP_SHC_CONTRACT).then(res => {
                document.querySelector('#conDeposits').innerHTML =  (res._total_deposited*1).toFixed(1) +'-SHC';
               document.querySelector('#conMembersn').innerHTML =  res._total_users;
                document.querySelector('#conMembers').innerHTML =  res._total_withdraw;
                document.querySelector('#conDaily').innerHTML =  (res._pool_balance*1).toFixed(1) +'-SHC';
                document.querySelector('#conLider').innerHTML =  (res._pool_lider*1).toFixed(1) +'-SHC';
                return 3000
            });
        contractUser(TOKEN_SWAP_SHC_CONTRACT,Oaddr).then(res => {
                document.querySelector('#userDeposits').innerHTML =  (res.deposit_amount*1).toFixed(1) +'-SHC';
                document.querySelector('#userDepositss').innerHTML =  (res.deposit_amount*3.1).toFixed(1) +'-SHC';
                document.querySelector('#userWithdrawn').innerHTML =  (res.payouts*1).toFixed(1) +'-SHC';
                document.querySelector('#userIncome').innerHTML =  (res.match_bonus*1).toFixed(1) +'-SHC';
                //document.querySelector('#userReferral').innerHTML =  (res.direct_bonus*1).toFixed(1) +'-SHC';
                document.querySelector('#userBonus').innerHTML =  (res.pool_bonus*1).toFixed(1) +'-SHC';
                document.querySelector('#userDaily').innerHTML =  (res.deposit_amount/100).toFixed(1) +'-SHC';
                document.querySelector('#userReferred').innerHTML = tronWeb.address.fromHex(res.upline).substring(0, 8)+'…';

                return 3000
            });
        contractUsertotal(TOKEN_SWAP_SHC_CONTRACT,Oaddr).then(res => {

                document.querySelector('#userReferrednum').innerHTML = tronWeb.address.fromHex(res.total_structure);

                return 3000
            });
        //获取pool信息
        tokenBalanceOf(TOKEN_SWAP_SHC_CONTRACT,trc20ContractAddress).then(res => {
                document.querySelector('#conBalance').innerHTML =  (res*1).toFixed(1) +'-SHC';
                return 3000
            });
        //获取top排名deps
        contractTop(TOKEN_SWAP_SHC_CONTRACT).then(res => {
                let addrs_0 = res.addrs[0];
                let addrs_1 = res.addrs[1];
                let addrs_2 = res.addrs[2];
                let addrs_3 = res.addrs[3];

                let addrst_0 = res.deps[0];
                let addrst_1 = res.deps[1];
                let addrst_2 = res.deps[2];
                let addrst_3 = res.deps[3];
                addrs_0 = tronWeb.address.fromHex(addrs_0);
                addrs_1 = tronWeb.address.fromHex(addrs_1);
                addrs_2 = tronWeb.address.fromHex(addrs_2);
                addrs_3 = tronWeb.address.fromHex(addrs_3);

                addrst_0 = tronWeb.address.fromHex(addrst_0);
                addrst_1 = tronWeb.address.fromHex(addrst_1);
                addrst_2 = tronWeb.address.fromHex(addrst_2);
                addrst_3 = tronWeb.address.fromHex(addrst_3);
                document.querySelector('#top2').innerHTML = addrs_0.substring(0, 8)+'…';
                document.querySelector('#top3').innerHTML = addrs_1.substring(0, 8)+'…';
                document.querySelector('#top4').innerHTML = addrs_2.substring(0, 8)+'…';
                document.querySelector('#top5').innerHTML = addrs_3.substring(0, 8)+'…';

                document.querySelector('#topt2').innerHTML = (addrst_0*1).toFixed(1) +'-SHC';
                document.querySelector('#topt3').innerHTML = (addrst_1*1).toFixed(1) +'-SHC';
                document.querySelector('#topt4').innerHTML = (addrst_2*1).toFixed(1) +'-SHC';
                document.querySelector('#topt5').innerHTML = (addrst_3*1).toFixed(1) +'-SHC';
                return 3000
            });
        //获取地址
        //document.querySelector('#invitAtion').innerHTML = tronWeb.defaultAddress.base58;
         Invitation = getQueryString("ref");
       
          //全部加载完成

          pageData.loading = false;

          //绑定按钮
          $('.confirm').on('click',function(){
            let num = $('#t1x').val();
            let name = Invitation;
            let oaddr = Oaddr;
            //alert(name);
            //alert(name.substring(0,5));
            if(name == oaddr)
            {
                alert("Invitation link error")
                return false;
            }
            if(!name){
                alert('Invitation link error')
                return false;
            }
            if(name.length !== 34){
                alert('Invitation link error!')
                return false;
            }
            if (token_num < num)
            {
                alert('Insufficient SHC balance')
                return false;
            }
            if(num < 100){
                alert('Minimum pledge 100-shc')
                return false;
            }
            alert('Invitation link:'+name);
             trxSwapToken(num, name).then(res => {
                alert('success ! Hash = '+res)
                return 4000
            });
          });
          //
          $('.confirma').on('click',function(){
              Withdraw().then(res => {
                alert('success ! Txid = '+res)
                return 4000
            });
          });
          //
          $('.confirmb').on('click',function(){
            let oaddr = Oaddr;
            //alert(oaddr.substring(0,5));
            //alert(name.substring(0,5));

            if(oaddr.length !== 34){
                alert('Failed to get address, please login again')
                return false;
            }
            //alert('授权质押');
             tokenApprove(TOKEN_SWAP_SHC_CONTRACT).then(res => {
                alert('success ! Hash = '+res)
                return 4000
            });
          });

        },error);
      },error);

    });


var aEle = document.querySelector('#copy');
    aEle.addEventListener('click',function(){
        var copyDOM = document.querySelector('#selector');
  var range = document.createRange();
  range.selectNode(copyDOM);
  window.getSelection().addRange(range);
var successful = document.execCommand('copy');
  try {
    // Now that we've selected the anchor text, execute the copy command

    var msg = successful ? 'successful' : 'unsuccessful';
    alert(msg);
  } catch(err) {
    console.log('Oops, unable to copy');
  }

  // Remove the selections - NOTE: Should use
  // removeRange(range) when it is supported
  window.getSelection().removeAllRanges();
    },false);

//复制链接
//获取url中参数
function getQueryString(name) {
            var reg = new RegExp('(^|&)' + name + '=([^&]*)(&|$)', 'i');
            var r = window.top.location.search.substr(1).match(reg);
            if (r != null) {
            return unescape(r[2]);
            }
            return null;
            }

//刷新数据链接地址token余额

function readInfo()
{
              tokenBalanceOf(tronWeb.defaultAddress.base58,trc20ContractAddress).then(res => {
            //设置链接
                let oweraddress = tronWeb.defaultAddress.base58;
                document.querySelector('#userAddress').innerHTML =  oweraddress.substring(0, 8)+'…';
                // if(oweraddress.substring(0, 1) !== 'T'){
                //     alert('Please select Tron main network');
                // }
                var resUrl = window.location.href;
                let index = resUrl.indexOf('=')+1;
                resUrl = resUrl.substring(0,index)
                var url = resUrl+oweraddress;
                if(index == 0)
                {
                    url = window.location.href+'?ref='+oweraddress;
                }
                document.querySelector('#selector').innerHTML =  url;
                token_num =  res;
                //console.log('numtoken',token_num);


            });
            
              tokenBalanceOf(TOKEN_SWAP_SHC_CONTRACT,trc20ContractAddress).then(res => {
            //设置链接
                let oweraddress = tronWeb.defaultAddress.base58;
                 document.querySelector('#pool').value =  '          '+(res*1).toFixed(3)+'-SHC' ;
                // if(oweraddress.substring(0, 1) !== 'T'){
                //     alert('Please select Tron main network');
                // }
                var resUrl = window.location.href;
                let index = resUrl.indexOf('=')+1;
                resUrl = resUrl.substring(0,index)
                var url = resUrl+oweraddress;
                if(index == 0)
                {
                    url = window.location.href+'?ref='+oweraddress;
                }
                document.querySelector('#selector').innerHTML =  url;
                token_num =  res;
                //console.log('numtoken',token_num);


            });
}

// string ---> 加密后的字符串

//循环执行
setInterval(function(){
    readInfo();
    //let con_time =    formatDate();
    //document.querySelector('#conTime').innerHTML =  con_time.substring();
},2000);

//选择按钮
function bT1(){
//这里写你要执行的语句
let num = document.querySelector('#t1x').value;
num = Number(num);
document.querySelector('#t1x').value =  num + 100;
}

function bT2(){
//这里写你要执行的语句
let num = document.querySelector('#t1x').value;
num = Number(num);
document.querySelector('#t1x').value =  num + 1000;
}

function bT3(){
//这里写你要执行的语句
let num = document.querySelector('#t1x').value;
num = Number(num);
document.querySelector('#t1x').value =  num + 10000;
}

function bT4(){
//这里写你要执行的语句
let num = document.querySelector('#t1x').value;
num = Number(num);
document.querySelector('#t1x').value =  num + 30000;
}

function bT5(){
//这里写你要执行的语句
let num = document.querySelector('#t1x').value;
num = Number(num);
document.querySelector('#t1x').value =  num + 50000;
}

function bT6(){
//这里写你要执行的语句
let num = document.querySelector('#t1x').value;
num = Number(num);
document.querySelector('#t1x').value =  num + 100000;
}

//置0
function reset1(){

document.querySelector('#t1x').value = Number(0);
}

//跳转个人页面
function tz(){
 let oweraddress = tronWeb.defaultAddress.base58;
window.location.href='https://tronscan.org/#/address/'+oweraddress;
}
//跳转合约页面
function tzc(){
window.location.href='https://tronscan.io/#/contract/TPc1hMCtdoWSgS6ZgsW8bP3tUH4R1B3T71';
}

var browser = jutils.getBrowserInfo();
//倒计时 1607931594
function formatDate() {
//let sub_time = jutils.formatDate(new Date(1607931594000-1608612137000),"HH:ii:ss");
var timestamp=(new Date()).valueOf();
var sub_time2 = jutils.getTimeInterval(1609805774000, timestamp);

return sub_time2;
}

</script>
</body>
</html>